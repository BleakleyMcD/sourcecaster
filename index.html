<!DOCTYPE html>
<html lang="en">
  <head>
    <title>The Sourcecaster</title>
    <meta charset="utf-8">

    <link href='https://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Merriweather:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/css.css">

    <script src="js/jquery.min.js"></script>
    <script src="js/js.js"></script>
    <script src="js/bootstrap.min.js"></script>
  </head>

<body>
<div class="container">

<div class="text-center">
  <h1>⚡ The Sourcecaster ⚡</h1>
</div>

<!-- BUTTONS! -->
<div class="row">

<div class="well col-md-3 col-md-offset-0">
  <h4>Resource for Historians working with digital primary sources</h4>

  <p>Historians spend a lot of time in archives, physical and digital. Whether you're capturing images of sources with a camera, or gathering digitized versions, there comes a time when you need to manage, modify, and even augment your stuff. There are ways to go about this with something like the Python programming language, but it turns out you have most of what you need in the command line (Terminal, if you're on a Mac). The Sourcecaster gathers some small but powerful commands to help you work through some common challenges working with digital primary sources.</p>
  <p>Click on a button and it will show you a basic command that you can use to do what you need, without too much tinkering. We've documented below each command and what each piece does.</p>
  <p>For many of these commands you can get a fuller breakdown using <a href="http://explainshell.com/" target="_blank">explainshell</a>.</p>
</div>

<div class="well col-md-8 col-md-offset-0">
	
 <div class="well"><h4>Change</h4>
  <!-- PDF to TXT -->
  <span data-toggle="modal" data-target=".to_txt"><button type="button" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="Change PDF to TXT">PDF to TXT</button></span>
  <div class="modal fade to_txt" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="well">
          <h3>PDF to TXT</h3>
          <p><code>for file in *.pdf; do pdftotext "$file" "$file.txt"; done</code></p>
          <p>This will convert all text searchable PDFs in a folder to text files.</p>
          <dl>
            <dt>for file in</dt><dd>for every file in the folder</dd>
            <dt>*.pdf</dt><dd>that ends in the extension pdf</dd>
            <dt>do pdftotext</dt><dd>use the pdftotext program to extract OCR from each PDF</dd>
            <dt>"$file" "$file.txt"</dt><dd>copy the filename from each PDF to the new text files</dd>
          </dl>
        </div>
      </div>
    </div>
  </div>
  <!-- ends PDF to TXT -->
  
    <!-- TIFF to TXT -->
  <span data-toggle="modal" data-target=".tiffto_txt"><button type="button" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="Change TIFF to TXT">TIFF to TXT</button></span>
  <div class="modal fade tiffto_txt" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="well">
          <h3>TIFF to TXT</h3>
          <p><code>for i in *.tiff; do tesseract $i yourfoldername_$i; done;</code></p>
          <p>This will convert all TIFF images of pages in a folder to text files.</p>
          <dl>
            <dt>for file in</dt><dd>for every file in the folder</dd>
            <dt>*.tiff</dt><dd>that ends in the extension tiff</dd>
            <dt>do tesseract</dt><dd>use the tesseract program to OCR each TIFF image</dd>
            <dt>$i yourfoldername_$i; done;</dt><dd>prepend foldername to each text file produced by tesseract</dd>
          </dl>
        </div>
      </div>
    </div>
  </div>
  <!-- ends TIFF to TXT -->

  </div>
  <div class="well">
  <h4>Manage</h4>

  <!-- Document Commandline History -->
  <span data-toggle="modal" data-target=".create_gif"><button type="button" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="Convert commandline history to a txt file">Document Command History</button></span>
  <div class="modal fade create_gif" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="well">
          <h3>Document Command History</h3>
          <p><code>history > history.txt</code></p>
                    <p>Convert command line history to a txt file</p>
                              <dl>
            <dt>history</dt><dd>take commandline history</dd>
            <dt>> history.txt</dt><dd>move history into a history.txt file</dd>
          </dl>
        </div>
      </div>
    </div>
  </div>
  <!-- Document Command History -->
  
  </div>
  
  <div class="well">
    <h4>Edit</h4>

  <!-- Mandelbrot -->
  <span data-toggle="modal" data-target=".mandelbrot"><button type="button" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="Make a mandelbrot test pattern video">Mandelbrot</button></span>
  <div class="modal fade mandelbrot" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="well">
          <h3>Makes a mandelbrot test pattern video</h3>
          <p><code>ffmpeg -f lavfi -i mandelbrot=size=1280x720:rate=25 -c:v libx264 -t 10 <i>output_file</i></code></p>
          <dl>
            <dt>ffmpeg</dt><dd>starts the command</dd>
            <dt>-f lavfi</dt><dd>tells ffmpeg to use the Libavfilter input virtual device <a href="http://ffmpeg.org/ffmpeg-devices.html#lavfi" target="_blank">[more]</a></dd>
            <dt>-i mandelbrot=size=1280x720:rate=25</dt><dd>asks for the mandelbrot test filter as input. Adjusting the <code>size</code> and <code>rate</code> options allow you to choose a specific frame size and framerate. <a href="https://ffmpeg.org/ffmpeg-filters.html#allrgb_002c-allyuv_002c-color_002c-haldclutsrc_002c-nullsrc_002c-rgbtestsrc_002c-smptebars_002c-smptehdbars_002c-testsrc" target="_blank">[more]</a></dd>
            <dt>-c:v <i>libx264</i></dt><dd>transcodes video from rawvideo to H.264. Set <code>-pix_fmt</code> to <code>yuv420p</code> for greater H.264 compatibility with media players.</dd>
            <dt>-t 10</dt><dd>specifies recording time of 10 seconds</dd>
            <dt><i>output_file</i></dt><dd>path, name and extension of the output file. Try different file extensions such as mkv, mov, mp4, or avi.</dd>
          </dl>
        </div>
      </div>
    </div>
  </div>
  <!-- ends Mandelbrot -->

  
  </div>
  <div class="well">
  <h4>Analyze</h4>

  <!-- Join files together -->
  <span data-toggle="modal" data-target=".join_files"><button type="button" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="Join (concatenate) two or more files into a single file">Join files together</button></span>
  <div class="modal fade join_files" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="well">
          <h3>Join files together</h3>
          <p><code>ffmpeg -f concat -i mylist.txt -c copy <i>output_file</i></code></p>
          <p>This command takes two or more files of the same file type and joins them together to make a single file. All that the program needs is a text file with a list specifying the files that should be joined. However, it only works properly if the files to be combined have the exact same codec and technical specifications. Be careful, ffmpeg may appear to have successfully joined two video files with different codecs, but may only bring over the audio from the second file or have other weird behaviors. Don’t use this command for joining files with different codecs and technical specs and always preview your resulting video file!</p>
          <p>ffmpeg documentation on concatenating files (full list of flags, commands, <a href="https://trac.ffmpeg.org/wiki/Concatenate" target="_blank">https://trac.ffmpeg.org/wiki/Concatenate</a>)</p>
          <dl>
            <dt>ffmpeg</dt><dd>starts the command</dd>
            <dt>-f concat</dt><dd>forces ffmpeg to concatenate the files and to keep the same file format</dd>
            <dt>-i <i>mylist.txt</i></dt><dd>path, name and extension of the input file. This text file contains the list of files to be concatenated and should be formatted as follows:
              <pre><i>path_name_and_extension_to_the_first_file
  path_name_and_extension_to_the_second_file
  . . .
  path_name_and_extension_to_the_last_file</i></pre></dd>
            <dt>-c copy</dt><dd>use stream copy mode to re-mux instead of re-encode</dd>
            <dt><i>output_file</i></dt><dd>path, name and extension of the output file</dd>
          </dl>
        </div>
      </div>
    </div>
  </div>
  <!-- ends Join files together -->
</div>
</div> <!-- end "well col-md-6 col-md-offset-2" -->
</div> <!-- row -->

<div class="footer text-center">
  <p>⚒ by <a href="http://www.thomaspadilla.org/" target="_blank">Thomas Padilla</a> and <a href="https://cradledincaricature.com/" target="_blank">James Baker</a>.</br>Contribute to the project via <a href="https://github.com/thomasgpadilla/sourcecaster">the GitHub page</a>.</br>The Sourcecaster is adapted from <a href="http://amiaopensource.github.io/ffmprovisr/">ffmprovisr</a> and <a href="http://dd388.github.io/crals/">Script Ahoy</a>.</p>
</div>

</div> <!-- class="container" -->
</body>
</html>
